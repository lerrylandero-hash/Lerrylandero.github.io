<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>InNova - Tu Guía Digital</title>
    <!-- Incluyendo Tailwind CSS para el diseño -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Incluyendo Google Fonts para la fuente "Inter" -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f3f4f6;
            color: #1f2937;
        }
        .card {
            background-color: white;
            border-radius: 1.5rem;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }
        .btn-blue {
            background-color: #1e3a8a; /* Color azul oscuro */
            color: white;
            padding: 16px 24px;
            border-radius: 1.5rem;
            font-weight: 700;
            text-align: center;
            transition: transform 0.2s, box-shadow 0.2s;
            cursor: pointer;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        .btn-blue:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 8px rgba(0, 0, 0, 0.15);
        }
        .section-title {
            color: #1e3a8a;
            font-size: 2.25rem;
            font-weight: 700;
            margin-bottom: 2rem;
            text-align: center;
        }
        .loading {
            display: flex;
            justify-content: center;
            align-items: center;
        }
        .loading::after {
            content: '';
            width: 30px;
            height: 30px;
            border: 4px solid #d1d5db;
            border-top-color: #1e3a8a;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        .chat-bubble {
            max-width: 80%;
            padding: 12px;
            border-radius: 1.25rem;
            margin-bottom: 8px;
        }
        .chat-user {
            background-color: #d1d5db;
            color: #1f2937;
            align-self: flex-end;
            border-bottom-right-radius: 0;
        }
        .chat-ai {
            background-color: #1e3a8a;
            color: white;
            align-self: flex-start;
            border-bottom-left-radius: 0;
        }
    </style>
</head>
<body class="p-4 md:p-8 min-h-screen flex flex-col items-center justify-center bg-[#f3f4f6]">

    <div class="container mx-auto max-w-4xl text-center">

        <!-- Título principal -->
        <h1 class="text-5xl font-extrabold mb-2 text-gray-900">InNova</h1>
        <p class="text-lg text-gray-600 mb-8">"Desde la mirada de Jesús, transformamos realidades"</p>

        <!-- Contenedor principal de la aplicación -->
        <main class="card p-8 md:p-12">
            
            <!-- Pantalla principal del menú -->
            <div id="main-menu-screen">
                <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                    
                    <!-- Sección de Ciberseguridad -->
                    <div class="lg:col-span-1 flex flex-col items-center">
                        <h2 class="section-title">Ciberseguridad</h2>
                        <button class="btn-blue w-full mb-4" data-target="concepto-ciberseguridad">
                            <span class="block text-xl font-bold">Concepto de ciberseguridad</span>
                        </button>
                        <button class="btn-blue w-full" data-target="aplicar-ciberseguridad">
                            <span class="block text-xl font-bold">Como aplicar la ciberseguridad</span>
                        </button>
                    </div>

                    <!-- Sección de Riesgos del Internet y redes sociales -->
                    <div class="lg:col-span-2 flex flex-col items-center">
                        <h2 class="section-title">Riesgos del Internet y redes sociales</h2>
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-4 w-full">
                            <button class="btn-blue h-full" data-target="ciberacoso">
                                <span class="block text-xl font-bold">Ciberacoso</span>
                                <p class="text-sm mt-1 opacity-80">Aprende a identificarlo</p>
                            </button>
                            <button class="btn-blue h-full" data-target="phishing">
                                <span class="block text-xl font-bold">Phishing</span>
                                <p class="text-sm mt-1 opacity-80">evita las estafas de internet</p>
                            </button>
                            <button class="btn-blue h-full" data-target="robo-identidad">
                                <span class="block text-xl font-bold">Robo de identidad</span>
                                <p class="text-sm mt-1 opacity-80">Evita que te roben tu información</p>
                            </button>
                            <div class="md:col-span-3 flex justify-center mt-4">
                                <button class="btn-blue" data-target="chat-ia">
                                    <span class="block text-xl font-bold">Chat con la IA</span>
                                    <p class="text-sm mt-1 opacity-80">Consulta tus dudas con la IA de Gemini</p>
                                </button>
                            </div>
                        </div>
                    </div>

                </div>
            </div>

            <!-- Contenido de las secciones -->
            <div id="concepto-ciberseguridad" class="hidden">
                <h2 class="text-3xl font-bold mb-4 text-[#1e3a8a]">Concepto de Ciberseguridad</h2>
                <p class="text-gray-700 leading-relaxed mb-4">
                    La ciberseguridad es la práctica de defender computadoras, servidores, dispositivos móviles, sistemas electrónicos, redes y datos de ataques maliciosos. También se le conoce como seguridad de tecnología de la información (TI) o seguridad electrónica de la información. Su principal objetivo es proteger la información y los sistemas de información del acceso no autorizado, uso, divulgación, interrupción, modificación o destrucción.
                </p>
                <button class="back-btn btn-blue mt-8">Volver al Menú</button>
            </div>
            
            <div id="aplicar-ciberseguridad" class="hidden">
                <h2 class="text-3xl font-bold mb-4 text-[#1e3a8a]">Cómo Aplicar la Ciberseguridad</h2>
                <p class="text-gray-700 leading-relaxed mb-4">
                    Aplicar la ciberseguridad en nuestra vida diaria es fundamental para protegernos de las amenazas en línea. A continuación, te mostramos algunas prácticas clave que puedes adoptar:
                </p>
                <ul class="list-disc list-inside text-left text-gray-700 space-y-2 mb-4">
                    <li>**Usa contraseñas fuertes:** Combina letras mayúsculas y minúsculas, números y símbolos. No uses la misma contraseña para varias cuentas.</li>
                    <li>**Activa la autenticación de dos factores (2FA):** Esto añade una capa extra de seguridad, pidiendo un segundo código (enviado a tu teléfono) además de tu contraseña.</li>
                    <li>**Actualiza tu software:** Mantén tu sistema operativo, aplicaciones y antivirus siempre actualizados para corregir vulnerabilidades de seguridad.</li>
                    <li>**Sé cauteloso con los enlaces y archivos adjuntos:** No hagas clic en enlaces ni descargues archivos de fuentes desconocidas o sospechosas.</li>
                    <li>**Usa una red privada virtual (VPN):** Una VPN cifra tu conexión a Internet, protegiendo tus datos, especialmente cuando usas redes Wi-Fi públicas.</li>
                </ul>
                <button class="back-btn btn-blue mt-8">Volver al Menú</button>
            </div>
            
            <div id="ciberacoso" class="hidden">
                <h2 class="text-3xl font-bold mb-4 text-[#1e3a8a]">Ciberacoso</h2>
                <p class="text-gray-700 leading-relaxed mb-4">
                    El ciberacoso es el uso de tecnologías digitales para acosar, intimidar, amenazar o humillar a otra persona. Puede ocurrir en redes sociales, plataformas de mensajería y foros.
                </p>
                <h3 class="text-xl font-bold text-[#1e3a8a]">Qué es</h3>
                <p class="text-gray-700 leading-relaxed mb-4">
                    Incluye el envío de mensajes agresivos, la publicación de rumores, la suplantación de identidad para dañar a alguien, y el envío de contenido humillante.
                </p>
                <h3 class="text-xl font-bold text-[#1e3a8a]">Cómo identificarlo</h3>
                <p class="text-gray-700 leading-relaxed mb-4">
                    Presta atención a mensajes repetitivos, amenazas, contenido que busca humillarte o excluye a una persona de grupos en línea.
                </p>
                <h3 class="text-xl font-bold text-[#1e3a8a]">Qué hacer si eres víctima</h3>
                <p class="text-gray-700 leading-relaxed mb-4">
                    Guarda las pruebas (capturas de pantalla), bloquea al acosador, y habla con un adulto de confianza. Denuncia el perfil o la cuenta a la plataforma.
                </p>
                <button class="back-btn btn-blue mt-8">Volver al Menú</button>
            </div>
            
            <div id="phishing" class="hidden">
                <h2 class="text-3xl font-bold mb-4 text-[#1e3a8a]">Phishing</h2>
                <p class="text-gray-700 leading-relaxed mb-4">
                    El phishing es una técnica de estafa digital que busca engañarte para que reveles información personal, como contraseñas o datos bancarios. Generalmente, se hace a través de correos electrónicos, mensajes de texto o sitios web que parecen ser legítimos.
                </p>
                <ul class="list-disc list-inside mt-4 text-left text-gray-700 space-y-2">
                    <li>**Revisa la dirección del remitente:** A menudo son direcciones extrañas o con errores.</li>
                    <li>**Desconfía de la urgencia:** Los mensajes de phishing suelen crear un sentido de pánico para que actúes sin pensar.</li>
                    <li>**No hagas clic en enlaces sospechosos:** Pasa el cursor sobre el enlace para ver la URL real antes de hacer clic.</li>
                    <li>**Verifica la gramática y ortografía:** Los mensajes fraudulentos suelen tener errores que las empresas legítimas no cometerían.</li>
                </ul>
                <button class="back-btn btn-blue mt-8">Volver al Menú</button>
            </div>

            <div id="robo-identidad" class="hidden">
                <h2 class="text-3xl font-bold mb-4 text-[#1e3a8a]">Robo de Identidad</h2>
                <p class="text-gray-700 leading-relaxed mb-4">
                    El robo de identidad ocurre cuando alguien roba tu información personal (como tu nombre, número de documento, o datos bancarios) para cometer fraude o crimen. Esto puede causar grandes problemas financieros y legales.
                </p>
                <ul class="list-disc list-inside mt-4 text-left text-gray-700 space-y-2">
                    <li>**Protege tu información personal:** Sé muy cuidadoso con la información que compartes en redes sociales.</li>
                    <li>**Usa contraseñas únicas:** No uses la misma contraseña en todas tus cuentas.</li>
                    <li>**Monitorea tus cuentas:** Revisa regularmente tus estados de cuenta bancarios y de crédito para detectar actividad sospechosa.</li>
                </ul>
                <button class="back-btn btn-blue mt-8">Volver al Menú</button>
            </div>

            <!-- Pantalla del Chat con la IA -->
            <div id="chat-ia" class="hidden">
                <h2 class="text-3xl font-bold mb-4 text-[#1e3a8a]">Chat con la IA</h2>
                <div id="chat-container" class="bg-gray-100 p-4 rounded-xl h-96 overflow-y-auto flex flex-col mb-4">
                    <div class="chat-bubble chat-ai">Hola, soy la IA de InNova. ¿En qué tema de seguridad digital puedo ayudarte hoy?</div>
                </div>
                <div class="flex items-center">
                    <input type="text" id="chat-input" class="flex-grow p-3 rounded-l-xl border-t border-b border-l border-gray-300 focus:outline-none focus:ring-2 focus:ring-[#1e3a8a]" placeholder="Escribe tu pregunta...">
                    <button id="send-chat-btn" class="btn-blue rounded-l-none">Enviar</button>
                </div>
                <button class="back-btn btn-blue mt-8">Volver al Menú</button>
            </div>
            
        </main>
    </div>
    
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const API_KEY = "AIzaSyBOy6ZIMToC6OewYmoDBnDIWqY3MPBHSjU";
            const API_URL = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=${API_KEY}`;
            
            // Mapeo de IDs de pantalla
            const screens = {
                'main-menu-screen': document.getElementById('main-menu-screen'),
                'concepto-ciberseguridad': document.getElementById('concepto-ciberseguridad'),
                'aplicar-ciberseguridad': document.getElementById('aplicar-ciberseguridad'),
                'ciberacoso': document.getElementById('ciberacoso'),
                'phishing': document.getElementById('phishing'),
                'robo-identidad': document.getElementById('robo-identidad'),
                'chat-ia': document.getElementById('chat-ia'),
            };

            const menuButtons = document.querySelectorAll('[data-target]');
            const backButtons = document.querySelectorAll('.back-btn');
            const sendChatBtn = document.getElementById('send-chat-btn');
            const chatInput = document.getElementById('chat-input');
            const chatContainer = document.getElementById('chat-container');

            let chatHistory = [
                { role: "user", parts: [{ text: "Actúa como un tutor experto y amigable en ciberseguridad para estudiantes. Responde de forma clara y concisa y no respondas preguntas fuera de este tema. Limita tus respuestas a 2-3 oraciones." }] },
                { role: "model", parts: [{ text: "¡Hola! Soy la IA de InNova y estoy lista para responder tus preguntas sobre seguridad digital." }] }
            ];

            const showScreen = (screenId) => {
                Object.values(screens).forEach(screen => screen.classList.add('hidden'));
                screens[screenId].classList.remove('hidden');
            };

            const addMessageToChat = (message, sender) => {
                const messageBubble = document.createElement('div');
                messageBubble.textContent = message;
                messageBubble.className = `chat-bubble ${sender === 'user' ? 'chat-user' : 'chat-ai'}`;
                chatContainer.appendChild(messageBubble);
                chatContainer.scrollTop = chatContainer.scrollHeight;
            };

            const sendUserMessage = async () => {
                const userMessage = chatInput.value.trim();
                if (userMessage === "") return;

                addMessageToChat(userMessage, 'user');
                chatInput.value = '';
                sendChatBtn.disabled = true;

                // Añadir el mensaje del usuario al historial
                chatHistory.push({ role: "user", parts: [{ text: userMessage }] });

                // Llamada a la API de Gemini
                try {
                    const payload = {
                        contents: chatHistory,
                    };
                    const response = await fetch(API_URL, {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                        },
                        body: JSON.stringify(payload),
                    });

                    if (!response.ok) {
                        throw new Error("Error en la respuesta de la API.");
                    }

                    const data = await response.json();
                    const aiResponse = data.candidates[0].content.parts[0].text;
                    addMessageToChat(aiResponse, 'ai');
                    chatHistory.push({ role: "model", parts: [{ text: aiResponse }] });

                } catch (error) {
                    console.error("Error al comunicarse con la IA:", error);
                    addMessageToChat("Lo siento, no pude procesar tu solicitud. Por favor, intenta de nuevo.", 'ai');
                } finally {
                    sendChatBtn.disabled = false;
                }
            };

            // Eventos para los botones del menú
            menuButtons.forEach(button => {
                button.addEventListener('click', () => {
                    const targetId = button.dataset.target;
                    showScreen(targetId);
                });
            });

            // Eventos para los botones de volver
            backButtons.forEach(button => {
                button.addEventListener('click', () => {
                    showScreen('main-menu-screen');
                });
            });

            // Evento para enviar mensaje en el chat
            sendChatBtn.addEventListener('click', sendUserMessage);
            chatInput.addEventListener('keydown', (e) => {
                if (e.key === 'Enter') {
                    sendUserMessage();
                }
            });
        });
    </script>
</body>
</html>

